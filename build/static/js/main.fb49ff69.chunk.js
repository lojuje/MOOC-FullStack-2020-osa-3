(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{14:function(e,t,n){e.exports=n(37)},19:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(13),l=n.n(r),c=(n(19),n(2)),u=function(e){return console.log("FilterSection pelaa",e),o.a.createElement("p",null,"Filter shown with ",o.a.createElement("input",{value:e.filter,onChange:e.onChange}))},i=function(e){var t=e.handlerForSubmit,n=e.handlerForName,a=e.handlerForNumber,r=e.newName,l=e.newNumber;return console.log("FormSection toimii"),o.a.createElement("form",{onSubmit:t},o.a.createElement("div",null,"Name: ",o.a.createElement("input",{value:r,onChange:n})),o.a.createElement("div",null,"Number: ",o.a.createElement("input",{value:l,onChange:a})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"Add")))},m=function(e){var t=e.person,n=(e.number,e.handleRemove);return console.log("Luettelo pelaa"),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,t.name),o.a.createElement("td",null,t.number),o.a.createElement("td",null,o.a.createElement("button",{onClick:function(){return n(t)}},"Remove"))))},s=function(e){var t=e.persons,n=e.rajausEhto,a=e.handlerForRemove;return console.log("PhonebookSection pelaa",t),o.a.createElement("div",null,o.a.createElement("table",null,t.filter(n).map((function(e){return o.a.createElement(m,{key:e.number,person:e,handleRemove:a})}))))},d=n(3),f=n.n(d),h="/api/persons",b=function(){return f.a.get(h)},E=function(e){return f.a.post(h,e)},p=function(e,t){return console.log(e,t),f.a.put("".concat(h,"/").concat(e),t)},v=function(e){return f.a.delete("".concat(h,"/").concat(e))},g=function(e){var t=e.message,n=e.status;return null===t?null:"created"===n?o.a.createElement("div",{className:"created"},t):"modified"===n?o.a.createElement("div",{className:"modified"},t):"deleted"===n?o.a.createElement("div",{className:"deleted"},t):"removed"===n?o.a.createElement("div",{className:"removed"},t):"detailError"===n?o.a.createElement("div",{className:"detailError"},t):o.a.createElement("div",{className:"error"},o.a.createElement("p",null))},w=function(){var e=Object(a.useState)(""),t=Object(c.a)(e,2),n=t[0],r=t[1],l=Object(a.useState)(""),m=Object(c.a)(l,2),d=m[0],f=m[1],h=Object(a.useState)(""),w=Object(c.a)(h,2),N=w[0],j=w[1],O=Object(a.useState)([]),S=Object(c.a)(O,2),k=S[0],F=S[1],y=Object(a.useState)(""),C=Object(c.a)(y,2),R=C[0],T=C[1],A=Object(a.useState)(""),B=Object(c.a)(A,2),D=B[0],J=B[1];Object(a.useEffect)((function(){console.log("effect"),b().then((function(e){console.log("promise fulfilled"),F(e.data)}))}),[]);return o.a.createElement("div",null,o.a.createElement("h2",null,"Phonebook"),o.a.createElement(g,{message:R,status:D}),o.a.createElement(u,{filter:N,onChange:function(e){j(e.target.value)}}),o.a.createElement("h3",null,"Add a new person to the phonebook"),o.a.createElement(i,{newName:n,newNumber:d,handlerForSubmit:function(e){e.preventDefault();var t={name:n,number:d},a=k.find((function(e){return e.name===n}));a&&window.confirm("".concat(n," is already in the phonebook, would you like to update the number?"))?(a.number=d,p(a.id,a).then((function(e){F(k.map((function(t){return t.id!==e.id?t:e})))})).catch((function(e){console.log("failed to update"),J("removed"),T("".concat(n," has been already been removed from the server"))})),J("modified"),T("".concat(n,"'s number has been changed")),setTimeout((function(){T(null)}),6e3)):(E(t).then((function(e){F(k.concat(e.data)),r(""),f("")})).catch((function(e){console.log(e.response.data),J("detailError"),T("".concat(e.response.data.error)),setTimeout((function(){T(null)}),6e3)})),J("created"),T("".concat(n," has been added")),setTimeout((function(){T(null)}),6e3))},handlerForName:function(e){r(e.target.value)},handlerForNumber:function(e){f(e.target.value)}}),o.a.createElement("h2",null,"Numbers"),o.a.createElement(s,{persons:k,rajausEhto:function(e){return e.name.toUpperCase().includes(N.toUpperCase())},handlerForRemove:function(e){!0===window.confirm("Delete ".concat(e.name," from the phonebook?"))&&v(e.id).then(F(k.filter((function(t){return t.id!==e.id})))),J("deleted"),T("".concat(e.name,"'s number has been deleted")),setTimeout((function(){T(null)}),6e3)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.fb49ff69.chunk.js.map